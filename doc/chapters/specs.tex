\chapter{Specifications}\label{ch:specs}

\begin{center}
	\Large \textbf{Epidemic Broadcast}\\
	\normalsize \textit{(trickle relaying)}
\end{center}

\noindent Consider a 2D floorplan with \(N\) users randomly dropped in it. A
random user within the floorplan produces a \emph{message}, which should ideally
reach all the users as soon as possible. Communications are \emph{slotted},
meaning that on each slot a user may or may not relay the message, and a message
occupies an entire slot. A \emph{broadcast radius} \(R\) is defined, so that
every receiver who is within a radius \(R\) from the transmitter will receive
the message, and no other user will hear it. A user that receives more than one
message in the same slot will not be able to decode it (\emph{collision}).

Users relay the message they receive \emph{once}, according to the following
policy (\emph{trickle relaying}): after the user successfully receives a
message, it waits for a time window of \(T\) slots. If during that time window
it correctly receives less than \(m\) copies of the same message, it relays it,
otherwise it stops.

A sender does not know (or cares about) whether or not its message has been
received by its neighbors.

Measure at least the broadcast time for a message in the entire floorplan, the
percentage of covered users, the number of collisions.

In all cases, it is up to the team to calibrate the scenarios so that meaningful
results are obtained.

\begin{tcolorbox}[title=Note]
	We have made a correction to the above specifications in order to fix an
	issue with trickle relaying.

	As defined above, all neighbors users of a sender receive the message in
	the same slot and then they all wait for the same time window of \(T\)
	slots before relaying the message. This leads to an issue where all the
	users relay the message in time slots multiple of \(T\) while the entire
	network stays silent in all other slots.

	In order to fix this issue, we have added a \emph{random relay delay}
	(\(\delta\)) to the time window so that each user waits for \(T+\delta\)
	slots before relaying the message, where \(\delta\) changes every time
	for every user.
\end{tcolorbox}
